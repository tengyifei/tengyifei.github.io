!function(t){function e(){t("#album-list").prepend("<p>Robot temporarily malfunctioning. Check back later. :P</p>")}var a=function(){this.nextAcademicYear=function(t){return t>=8},this.toYear=function(t){t=new Date(1e3*t);var e=t.getFullYear();return this.nextAcademicYear(t.getMonth()+1)&&e++,e},this.get=function(t){var e,a={"iRobotics Demno at 4H":2013},i=Number.MAX_VALUE,r=Number.MIN_VALUE,n=function(){this.handler=function(t){var n=this.toYear(t.datetime);if(null!=a[t.title])n=a[t.title];else if(null!=(e=t.title.match(/20\d\d-20\d\d/)))n=parseInt(e[0].substr(0,4))+1;else if(null!=(e=t.title.match(/20\d\d-\d\d/)))n=parseInt(e[0].substr(0,4))+1;else if(null!=(e=t.title.match(/20\d\d/)))n=parseInt(e[0].substr(0,4)),2014!=n||7>new Date(1e3*t.datetime).getMonth()?(-1<t.title.toLowerCase().indexOf("fall")||-1<t.title.toLowerCase().indexOf("quad"))&&n++:n=this.toYear(t.datetime);else if(null!=(e=t.title.match(/\d\d?\/\d\d?\/\d\d/))){var n=parseInt(e[0].substr(e[0].length-2,2))+2e3,l=parseInt(e[0].split("/")[0]);this.nextAcademicYear(l)&&n++}t.year=n,n>r&&(r=n),i>n&&(i=n)}};return n.prototype=this,n=new n,t.forEach(n.handler,n),[i,r]}},i=function(e,a){var i=e[0],r=e[1],n=[];this.fillAlbumArray=function(){for(var t=0;r-i+1>t;t++)n[n.length]={year:t+i,albums:[]};a.forEach(function(t){n[t.year-i].albums.push(t)})},this.showAlbum=function(){for(var e=t("#album-list"),a=n.length-1;a>=0;a--){var i=n[a],r=i.albums,l="alb-"+i.year;for(e.append('<h3 class="photo-header" data-album="'+l+'">'+(i.year-1)+"-"+i.year+" â†“</h3>"),e.append('<div id="'+l+'" class="photogroup photogroup-hidden"></div>'),i=t("#"+l),l=0;l<r.length;l++)i.append('<div class="album-each"><a target="_blank" href="'+r[l].link+'"><br><img class="album" src="http://imgur.com/'+r[l].cover+'b.jpg" alt="'+r[l].title+'"><br>'+r[l].title+"<br></a>")}t("#album-list h3").click(function(e){e=t("#"+t(e.target).data("album")),e.hasClass("photogroup-hidden")?e.removeClass("photogroup-hidden"):e.addClass("photogroup-hidden")})},this.render=function(){this.fillAlbumArray(),this.showAlbum()}};t.ajax({url:"https://api.imgur.com/3/account/irobotics/albums/",method:"GET",headers:{Authorization:"Client-ID 0ad87485d642182",Accept:"application/json"},data:{},success:function(t){if(t.success&&200===t.status)try{var r=t.data.sort(function(t,e){return t.datetime>e.datetime?-1:t.datetime==e.datetime?0:1}),n=(new a).get(r);new i(n,r).render()}catch(l){e()}else e()},error:function(){e()}})}(jQuery);